<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="admin">

	<resultMap type="zeniware.admin.preference.CommonCode" id="commonCodeResultMap">
		<id column="GROUP_ID" property="groupId" />
		<id column="CODE_ID" property="codeId" />
 		<result column="CODE_NM_KO" property="codeNameKo" />
		<result column="CODE_NM_EN" property="codeNameEn" />
		<result column="CODE_NM_CN" property="codeNameCn" />
		<result column="CODE_NM_JP" property="codeNameJp" />
		<result column="SORT_ORDER" property="sortOrder" />
		<result column="USE_YN" property="useYn" />
		<result column="DESCRIPTION" property="description" />
		<result column="REG_DATE" property="regDate" />
		<result column="MOD_DATE" property="modDate" />
	</resultMap>
	
	<select id="getCommonCodes" parameterType="map" resultMap="commonCodeResultMap">
		SELECT 
			GROUP_ID, CODE_ID, CODE_NM_KO, CODE_NM_EN, CODE_NM_CN, CODE_NM_JP, 
			SORT_ORDER, USE_YN, REG_DATE, MOD_DATE 
		FROM NC_CODE 
		ORDER BY GROUP_ID, CODE_ID
	</select>
	
	<update id="setCommonCode" parameterType="map">
		UPDATE NC_CODE 
		SET 
			CODE_NM_KO = #{codeNameKo}, 
			CODE_NM_EN = #{codeNameEn}, 
			CODE_NM_CN = #{codeNameCn}, 
			CODE_NM_JP = #{codeNameJp}, 
			SORT_ORDER = #{sortOrder}, 
			USE_YN = #{useYn}, 
			DESCRIPTION = #{description}, 
			MOD_DATE = NOW() 
		WHERE GROUP_ID = #{groupId} AND CODE_ID = #{codeId}
	</update>
	
	<delete id="delCommonCode" parameterType="map">
		DELETE FROM NC_CODE 
		WHERE GROUP_ID = #{groupId} AND CODE_ID = #{codeId}
	</delete>

</mapper>